(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},34:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(3),r=n.n(s),i=(n(20),n(9)),u=n(10),c=n(13),l=n(11),h=n(14),m=n(1),d=[{question:"What franchise would you rather play a game from?",answer:{location:[25.0252026,221.5331177],text:"123"}},{question:"\u606d\u559c\u4f60"}],v=n(4);var f=function(e){return o.a.createElement("h2",{className:"question"},e.content)};var w=function(e){return o.a.createElement("div",{className:"questionCount"},"\u8a18\u61b6\u65b7\u5c64 ",o.a.createElement("span",null,e.counter))};var b=function(e){return e.answer?o.a.createElement("div",null,o.a.createElement("textarea",{onChange:e.ontextChange}),o.a.createElement("button",{onClick:e.handleSubmit},"Submit")):o.a.createElement("div",null)};var g=function(e){return o.a.createElement(v.CSSTransitionGroup,{className:"container",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},o.a.createElement("div",{key:e.questionId},o.a.createElement(w,{counter:e.questionId,total:e.questionTotal}),o.a.createElement(f,{content:e.question}),o.a.createElement(b,{answer:e.answer,handleSubmit:e.handleSubmit,ontextChange:e.ontextChange})))};var p=function(e){return o.a.createElement(v.CSSTransitionGroup,{className:"container result",component:"div",transitionName:"fade",transitionEnterTimeout:800,transitionLeaveTimeout:500,transitionAppear:!0,transitionAppearTimeout:500},o.a.createElement("div",null,"You prefer ",o.a.createElement("strong",null,e.quizResult),"!"))},q=(n(34),n(12));n(36);var E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={counter:0,questionId:1,question:"",userAnswer:"",answersCount:{},result:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(Object(m.a)(n))),n.ontextChange=n.ontextChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({question:d[0].question,answer:d[0].answer})}},{key:"handleSubmit",value:function(e){navigator.geolocation.getCurrentPosition(this.success.bind(this),function(e){console.error("Error Code = "+e.code+" - "+e.message)})}},{key:"check",value:function(e,t){var n=this.state.answer,a=n.location,o=n.text;return console.log(e,t),console.log(a,o),!(a&&function(e,t,n,a){if(e==n&&t==a)return 0;var o=Math.PI*e/180,s=Math.PI*n/180,r=t-a,i=Math.PI*r/180,u=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(i);return u>1&&(u=1),u=60*(u=180*(u=Math.acos(u))/Math.PI)*1.1515}(e[0],e[1],a[0],a[1])>50)&&(!o||t===o)}},{key:"success",value:function(e){var t=this,n=e.coords,a=n.latitude,o=n.longitude;this.check([a,o],this.state.userAnswer)?this.state.questionId<d.length&&setTimeout(function(){return t.setNextQuestion()},300):Object(q.confirmAlert)({message:"hmm...\u518d\u60f3\u60f3\u770b",buttons:[{label:"Yes"}]})}},{key:"setNextQuestion",value:function(){var e=this.state.counter+1,t=this.state.questionId+1;this.setState({counter:e,questionId:t,question:d[e].question,answer:d[e].answer,userAnswer:""})}},{key:"getResults",value:function(){var e=this.state.answersCount,t=Object.keys(e),n=t.map(function(t){return e[t]}),a=Math.max.apply(null,n);return t.filter(function(t){return e[t]===a})}},{key:"setResults",value:function(e){1===e.length?this.setState({result:e[0]}):this.setState({result:"Undetermined"})}},{key:"ontextChange",value:function(e){this.setState({answer:e.target.value})}},{key:"renderQuiz",value:function(){return o.a.createElement(g,{answer:this.state.answer,questionId:this.state.questionId,question:this.state.question,questionTotal:d.length,handleSubmit:this.handleSubmit,ontextChange:this.ontextChange})}},{key:"renderResult",value:function(){return o.a.createElement(p,{quizResult:this.state.result})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},this.state.result?this.renderResult():this.renderQuiz())}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,2,1]]]);
//# sourceMappingURL=main.af1bb34f.chunk.js.map